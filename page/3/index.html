<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>程序员记事本</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="程序员记事本">
<meta property="og:url" content="https://wushifei.com/page/3/index.html">
<meta property="og:site_name" content="程序员记事本">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="嵌入式 程序员">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="程序员记事本" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">程序员记事本</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://wushifei.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-比特币挖矿：libblkmaker编译" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/18/%E6%AF%94%E7%89%B9%E5%B8%81%E6%8C%96%E7%9F%BF%EF%BC%9Alibblkmaker%E7%BC%96%E8%AF%91/" class="article-date">
  <time class="dt-published" datetime="2021-03-17T18:11:31.692Z" itemprop="datePublished">2021-03-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/18/%E6%AF%94%E7%89%B9%E5%B8%81%E6%8C%96%E7%9F%BF%EF%BC%9Alibblkmaker%E7%BC%96%E8%AF%91/">比特币挖矿：libblkmaker编译</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>用自己的PC挖矿。<br>编译libblkmaker</p>
<h2 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h2><p>Jansson<br>libgcrypt </p>
<h3 id="Jansson"><a href="#Jansson" class="headerlink" title="Jansson"></a>Jansson</h3><ol>
<li>源码下载:<a target="_blank" rel="noopener" href="https://digip.org/jansson/">https://digip.org/jansson/</a></li>
</ol>
<ul>
<li>libgcrypt </li>
</ul>
<ol>
<li><p>源码下载：<br><a href="ftp://ftp.gnupg.org/gcrypt/libgpg-error/libgpg-error-1.9.tar.gz">ftp://ftp.gnupg.org/gcrypt/libgpg-error/libgpg-error-1.9.tar.gz</a><br><a href="ftp://ftp.gnupg.org/gcrypt/libgcrypt/libgcrypt-1.9.2.tar.gz">ftp://ftp.gnupg.org/gcrypt/libgcrypt/libgcrypt-1.9.2.tar.gz</a></p>
</li>
<li><p>分别解压，编译</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tar zxf libgpg-error-1.9.tar.gz</span><br><span class="line">cd libgpg-error-1.9/</span><br><span class="line">./configure</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tar zxf libgcrypt-1.9.2.tar.gz</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/18/%E6%AF%94%E7%89%B9%E5%B8%81%E6%8C%96%E7%9F%BF%EF%BC%9Alibblkmaker%E7%BC%96%E8%AF%91/" data-id="ckvv0bqvw001t4oqv5ds55ovg" data-title="比特币挖矿：libblkmaker编译" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SVN不能Cleanup解决方法 Cleanup failed to process the following paths" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/16/SVN%E4%B8%8D%E8%83%BDCleanup%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%20Cleanup%20failed%20to%20process%20the%20following%20paths/" class="article-date">
  <time class="dt-published" datetime="2021-03-15T22:56:10.998Z" itemprop="datePublished">2021-03-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/knowhow/">knowhow</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/16/SVN%E4%B8%8D%E8%83%BDCleanup%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%20Cleanup%20failed%20to%20process%20the%20following%20paths/">SVN不能Cleanup解决方法 Cleanup failed to process the following paths</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="错误描述"><a href="#错误描述" class="headerlink" title="错误描述"></a>错误描述</h2><p>SVN执行Update时弹出Update Failed错误提示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Previous operation has not finished; run &#x27;cleanup&#x27; if it was interrupted</span><br><span class="line">Please execute the &#x27;Cleanup&#x27; command.</span><br></pre></td></tr></table></figure>

<p>执行Cleanup时弹出提示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Cleanup failed to process the following paths:</span><br><span class="line">D:\**</span><br><span class="line">Previous operation has not finished; run &#x27;cleanup&#x27; if it was interrupted</span><br><span class="line">Please execute the &#x27;Cleanup&#x27; command.</span><br></pre></td></tr></table></figure>
<p>进入了死循环。</p>
<h2 id="原因分析"><a href="#原因分析" class="headerlink" title="原因分析"></a>原因分析</h2><p>SVN操作失败（比如在文件打开状态下update），这个时候Update操作其实存储在svn的数据库中等待被执行，这之后的操作就要等数据库的update操作成功后才能执行。</p>
<h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>从数据库中将前一次的失败操作删除。<br>1, sqlite3数据库操作用工具下载<br>官网：<a target="_blank" rel="noopener" href="https://sqlite.org/download.html">https://sqlite.org/download.html</a><br>根据需要下载对应版本<br>我的Win10使用版本：sqlite-tools-win32-x86-3320200.zip<br>2, 压缩包中的sqlite3.exe文件解压到.svn文件夹中<br>3, 在CMD下执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.\sqlite3.exe wc.db</span><br><span class="line">SQLite version 3.32.2 2020-06-04 12:58:43</span><br><span class="line">Enter &quot;.help&quot; for usage hints.</span><br><span class="line"># 从队列中删除上一次的操作</span><br><span class="line">sqlite&gt; select * from work_queue;</span><br><span class="line">sqlite&gt; delete from work_queue;</span><br><span class="line"></span><br><span class="line"># 从队列中删除路径的lock的</span><br><span class="line">sqlite&gt; select * from wc_lock;</span><br><span class="line">sqlite&gt; delete from wc_lock;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/16/SVN%E4%B8%8D%E8%83%BDCleanup%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%20Cleanup%20failed%20to%20process%20the%20following%20paths/" data-id="ckvv0bqvb00064oqvghf0e0mk" data-title="SVN不能Cleanup解决方法 Cleanup failed to process the following paths" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/svn/" rel="tag">svn</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-群晖硬盘数据读取" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/10/%E7%BE%A4%E6%99%96%E7%A1%AC%E7%9B%98%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96/" class="article-date">
  <time class="dt-published" datetime="2021-03-09T20:01:23.779Z" itemprop="datePublished">2021-03-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/knowhow/">knowhow</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/10/%E7%BE%A4%E6%99%96%E7%A1%AC%E7%9B%98%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96/">群晖硬盘数据读取</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>目标：群晖拆下硬盘中的数据拷贝到移动硬盘中</p>
<h2 id="1-群晖拆下的硬盘放到硬盘盒，通过USB插到树莓派上，"><a href="#1-群晖拆下的硬盘放到硬盘盒，通过USB插到树莓派上，" class="headerlink" title="1. 群晖拆下的硬盘放到硬盘盒，通过USB插到树莓派上，"></a>1. 群晖拆下的硬盘放到硬盘盒，通过USB插到树莓派上，</h2><h2 id="2-移动硬盘通过USB查到树莓派"><a href="#2-移动硬盘通过USB查到树莓派" class="headerlink" title="2. 移动硬盘通过USB查到树莓派"></a>2. 移动硬盘通过USB查到树莓派</h2><h2 id="3-输入命令查看硬盘信息"><a href="#3-输入命令查看硬盘信息" class="headerlink" title="3. 输入命令查看硬盘信息"></a>3. 输入命令查看硬盘信息</h2><p>   /dev/sdb是群晖硬盘<br>其中/dev/sdb1和/dev/sdb2分区是群晖系统用，/dev/sdb5才是数据存储用分区<br>   /dev/sdc是移动硬盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo fdisk –l</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Disk /dev/sdb: 3.7 TiB, 4000787030016 bytes, 7814037168 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 4096 bytes</span><br><span class="line">I/O size (minimum/optimal): 4096 bytes / 4096 bytes</span><br><span class="line">Disklabel type: gpt</span><br><span class="line">Disk identifier: 0B6B4E4C-7C1F-4834-AD96-8B1A4C779AEF</span><br><span class="line"></span><br><span class="line">Device       Start        End    Sectors  Size Type</span><br><span class="line">/dev/sdb1     2048    4982527    4980480  2.4G Linux RAID</span><br><span class="line">/dev/sdb2  4982528    9176831    4194304    2G Linux RAID</span><br><span class="line">/dev/sdb5  9453280 7813830239 7804376960  3.6T Linux RAID</span><br><span class="line"></span><br><span class="line">Disk /dev/sdc: 1.4 TiB, 1500301910016 bytes, 2930277168 sectors</span><br><span class="line">Units: sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disklabel type: dos</span><br><span class="line">Disk identifier: 0x4eea0366</span><br><span class="line"></span><br><span class="line">Device     Boot Start        End    Sectors  Size Id Type</span><br><span class="line">/dev/sdc1           2 2930277167 2930277166  1.4T  7 HPFS/NTFS/exFAT</span><br></pre></td></tr></table></figure>

<h2 id="4-创建文件加用来挂在硬盘"><a href="#4-创建文件加用来挂在硬盘" class="headerlink" title="4. 创建文件加用来挂在硬盘"></a>4. 创建文件加用来挂在硬盘</h2><p>   src用来挂载群晖硬盘<br>   dst用来挂载移动硬盘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /mnt/src</span><br><span class="line">sudo mkdir /mnt/dst</span><br><span class="line">ls /mnt</span><br><span class="line"></span><br><span class="line">dst  src</span><br></pre></td></tr></table></figure>
<h2 id="5-挂载群晖硬盘"><a href="#5-挂载群晖硬盘" class="headerlink" title="5. 挂载群晖硬盘"></a>5. 挂载群晖硬盘</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sdb5 /mnt/src</span><br><span class="line"></span><br><span class="line">mount: unknown filesystem type &#x27;linux_raid_member&#x27;</span><br></pre></td></tr></table></figure>
<p>上面提示是因为群晖的软linux_raid格式不能直接挂载，需要安装两个软件mdadm和lvm2</p>
<h3 id="5-1-安装mdadm和lvm2"><a href="#5-1-安装mdadm和lvm2" class="headerlink" title="5.1 安装mdadm和lvm2"></a>5.1 安装mdadm和lvm2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install mdadm lvm2</span><br></pre></td></tr></table></figure>
<h3 id="5-2-扫描群晖硬盘"><a href="#5-2-扫描群晖硬盘" class="headerlink" title="5.2 扫描群晖硬盘"></a>5.2 扫描群晖硬盘</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mdadm -Asf &amp;&amp; vgchange -ay</span><br></pre></td></tr></table></figure>
<h3 id="5-3-查看Logical-Volume信息"><a href="#5-3-查看Logical-Volume信息" class="headerlink" title="5.3 查看Logical Volume信息"></a>5.3 查看Logical Volume信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo lvdisplay</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">--- Logical volume ---</span><br><span class="line">LV Path                /dev/vg1001/lv</span><br><span class="line">LV Name                lv</span><br><span class="line">VG Name                vg1001</span><br><span class="line">LV UUID                36nTHZ-D4IF-m5e3-rNhI-kg6x-OwpT-5mSYCs</span><br><span class="line">LV Write Access        read/write</span><br><span class="line">LV Creation host, time ,</span><br><span class="line">LV Status              available</span><br><span class="line"># open                 0</span><br><span class="line">LV Size                3.63 TiB</span><br><span class="line">Current LE             952682</span><br><span class="line">Segments               1</span><br><span class="line">Allocation             inherit</span><br><span class="line">Read ahead sectors     auto</span><br><span class="line">- currently set to     256</span><br><span class="line">Block device           253:0</span><br></pre></td></tr></table></figure>
<h3 id="5-4-挂载"><a href="#5-4-挂载" class="headerlink" title="5.4 挂载"></a>5.4 挂载</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/vg1001/lv /mnt/src</span><br></pre></td></tr></table></figure>
<h3 id="5-5-查看挂载是否成功"><a href="#5-5-查看挂载是否成功" class="headerlink" title="5.5 查看挂载是否成功"></a>5.5 查看挂载是否成功</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /mnt/src</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@afpd.core                  homes                  @SYNO.Finder.Fil.core</span><br><span class="line">@appstore                   music                  @SynologyApplicationService</span><br><span class="line">aquota.group                OWDownload             @synologydrive</span><br><span class="line">aquota.user                 photo                  @synophoto-geoco.core</span><br><span class="line">@autoupdate                 @S2S                   synoquota.db</span><br><span class="line">@builtin-dyn-aut.core       svn                    @SystemInfo.cgi.core</span><br><span class="line">@cloudsync                  @synoaudiod.core       @temp@</span><br><span class="line">@database                   @SYNO.Core.DSMNo.core  @tmp</span><br><span class="line">@download                   @SYNO.Core.Syste.core  @transmissiond.core</span><br><span class="line">@eaDir                      @SynoDrive             video</span><br><span class="line">esynoscheduler.output.4094  @synoelasticd.core     web</span><br><span class="line">esynoscheduler.output.8630  @SYNO.Entry.Requ.core  work</span><br><span class="line">esynoscheduler.output.8701  @SYNO.FileStatio.core</span><br></pre></td></tr></table></figure>
<p>OK</p>
<h2 id="6-挂载移动硬盘"><a href="#6-挂载移动硬盘" class="headerlink" title="6. 挂载移动硬盘"></a>6. 挂载移动硬盘</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sdc1 /mnt/dst</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount: unknown filesystem type &#x27;exfat&#x27;</span><br></pre></td></tr></table></figure>
<p>不支持exfat文件系统，需要先安装依赖</p>
<h3 id="6-1-安装exfat-fuse"><a href="#6-1-安装exfat-fuse" class="headerlink" title="6.1 安装exfat-fuse"></a>6.1 安装exfat-fuse</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install exfat-fuse</span><br></pre></td></tr></table></figure>

<h3 id="6-2-挂载"><a href="#6-2-挂载" class="headerlink" title="6.2 挂载"></a>6.2 挂载</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mount /dev/sdc1 /mnt/dst</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FUSE exfat 1.2.5</span><br></pre></td></tr></table></figure>
<h3 id="6-3-查看挂载是否成功"><a href="#6-3-查看挂载是否成功" class="headerlink" title="6.3 查看挂载是否成功"></a>6.3 查看挂载是否成功</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /mnt/dst</span><br></pre></td></tr></table></figure>
<p>OK</p>
<h2 id="7，在后台拷贝"><a href="#7，在后台拷贝" class="headerlink" title="7，在后台拷贝"></a>7，在后台拷贝</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nohup cp -r /mnt/src/ /mnt/dst/ &gt;cp_src2dst.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1] 1652</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/10/%E7%BE%A4%E6%99%96%E7%A1%AC%E7%9B%98%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96/" data-id="ckvv0bqvx001v4oqv48sk6eop" data-title="群晖硬盘数据读取" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BE%A4%E6%99%96/" rel="tag">群晖</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-树莓派搭建SVN" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/08/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BASVN/" class="article-date">
  <time class="dt-published" datetime="2021-03-07T18:05:43.108Z" itemprop="datePublished">2021-03-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web/">web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/08/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BASVN/">树莓派搭建SVN</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 安装</span><br><span class="line">sudo apt-get install subversion</span><br><span class="line"># 卸载</span><br><span class="line">sudo apt-get remove --purge subversion</span><br></pre></td></tr></table></figure>
<h2 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h2><p>svnadmin create /home/pi/svn</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol>
<li><p>配置仓库<br>sudo nano /home/pi/svn/conf/svnserve.conf</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 配置信息</span><br><span class="line"></span><br><span class="line">anon-access = none   </span><br><span class="line">#控制非鉴权用户访问版本库的权限。取值范围为&quot;write&quot;、&quot;read&quot;和&quot;none&quot;。即&quot;write&quot;为可读可写，&quot;read&quot;为只读，&quot;none&quot;表示无访问权限。缺省值：read</span><br><span class="line"></span><br><span class="line">auth-access = write </span><br><span class="line">#控制鉴权用户访问版本库的权限。取值范围为&quot;write&quot;、&quot;read&quot;和&quot;none&quot;。即&quot;write&quot;为可读可写，&quot;read&quot;为只读，&quot;none&quot;表示无访问权限。缺省值：write</span><br><span class="line"></span><br><span class="line">password-db = passwd </span><br><span class="line"># 指定账户密码配置文件，当前文件夹下的passwd文件</span><br><span class="line"></span><br><span class="line">authz-db = authz</span><br><span class="line"># 权限配置文件，当前文件夹下的authz文件</span><br></pre></td></tr></table></figure></li>
<li><p>创建用户<br>sudo nano /home/pi/svn/conf/passwd</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 用户创建</span><br><span class="line">[users]</span><br><span class="line"># harry = harryssecret</span><br><span class="line"># sally = sallyssecret</span><br><span class="line">username1=password1			# 一行一个 用户名=密码</span><br><span class="line">username2=password2</span><br><span class="line">username3=password3</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>配置权限<br>sudo nano /home/pi/svn/conf/authz<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 权限配置</span><br><span class="line">[groups]</span><br><span class="line"># harry_and_sally = harry,sally</span><br><span class="line"># harry_sally_and_joe = harry,sally,&amp;joe</span><br><span class="line"></span><br><span class="line"># [/foo/bar]</span><br><span class="line"># harry = rw</span><br><span class="line"># &amp;joe = r</span><br><span class="line"># * =</span><br><span class="line">admin=username1		# 角色划分</span><br><span class="line">user=username2,username3</span><br><span class="line"></span><br><span class="line"># [repository:/baz/fuz]</span><br><span class="line"># @harry_and_sally = rw</span><br><span class="line"># * = r</span><br><span class="line">[/]		# 访问路径</span><br><span class="line">@admin=rw		# 权限配置，rw</span><br><span class="line">@user=r</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>svnserve -d -r /home/pi/svn</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svnserve -d -r /home/pi/svn</span><br><span class="line"># -d 表示守护线程后台运行 -r 表示指定目录</span><br><span class="line"></span><br><span class="line"># 查看是否启动成功</span><br><span class="line">ps -ef|grep svnserve</span><br><span class="line"></span><br><span class="line"># 自动启动，在/etc/rc.local 中添加如上启动语句</span><br></pre></td></tr></table></figure>

<h2 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h2><p>用客户端打开svn://192.168.1.4:3690</p>
<h2 id="修改默认端口"><a href="#修改默认端口" class="headerlink" title="修改默认端口"></a>修改默认端口</h2><p>Subversion有两种不同的配置方式，一种基于它自带的轻量级服务器svnserve，一种基于非常流行的Web服务器Apache。<br>根据不同的配置方式，Subversion使用不同的端口对外提供服务。</p>
<p>基于svnserve的，默认端口为3690，</p>
<p>基于Apache的，默认端口为Apache的默认端口80。</p>
<p>不同的配置修改默认端口方法不同：</p>
<ul>
<li><p>通过svnserve -d -r /home/pi/svn来提供服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 为svnserve 加上--listen-port参数</span><br><span class="line">svnserve -d -r  /home/pi/svn --listen-port 10000</span><br></pre></td></tr></table></figure></li>
<li><p>通过Apache来提供服务<br>在httpd.conf中，查找Listen 80，将80修改为你想要的端口<br>```</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/08/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BASVN/" data-id="ckvv0bqvw001p4oqv95g1esp6" data-title="树莓派搭建SVN" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-svn/" rel="tag">树莓派 | svn</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-VS2019编译比特币源码( Bitcoin Core build by Virtual Studio 2019)" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/07/VS2019%E7%BC%96%E8%AF%91%E6%AF%94%E7%89%B9%E5%B8%81%E6%BA%90%E7%A0%81(%20Bitcoin%20Core%20build%20by%20Virtual%20Studio%202019)/" class="article-date">
  <time class="dt-published" datetime="2021-03-07T02:46:09.128Z" itemprop="datePublished">2021-03-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web/">web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/07/VS2019%E7%BC%96%E8%AF%91%E6%AF%94%E7%89%B9%E5%B8%81%E6%BA%90%E7%A0%81(%20Bitcoin%20Core%20build%20by%20Virtual%20Studio%202019)/">VS2019编译比特币源码( Bitcoin Core build by Virtual Studio 2019)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul>
<li>Bitcoin Core源码：<br>  <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bitcoin/archive/v0.20.1.zip">https://github.com/bitcoin/bitcoin/archive/v0.20.1.zip</a></li>
<li>Virtual Studio 2019<br>  <a target="_blank" rel="noopener" href="https://visualstudio.microsoft.com/zh-hans/vs/community/">https://visualstudio.microsoft.com/zh-hans/vs/community/</a><br>  community版登录后可以免费使用</li>
</ul>
<h2 id="安装依赖库"><a href="#安装依赖库" class="headerlink" title="安装依赖库"></a>安装依赖库</h2><h3 id="安装vcpkg工具"><a href="#安装vcpkg工具" class="headerlink" title="安装vcpkg工具"></a>安装vcpkg工具</h3><p>vcpkg可以方便的管理C/C++库，用它可以方便的安装依赖库</p>
<p>安装参考：<a target="_blank" rel="noopener" href="https://github.com/microsoft/vcpkg/blob/master/README_zh_CN.md#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B-windows">https://github.com/microsoft/vcpkg/blob/master/README_zh_CN.md#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B-windows</a></p>
<p>下载：<br>    git clone <a target="_blank" rel="noopener" href="https://github.com/microsoft/vcpkg">https://github.com/microsoft/vcpkg</a><br>编译：<br>    .\bootstrap-vcpkg.bat<br>安装：<br>    .\vcpkg.exe integrate install</p>
<h3 id="使用vcpkg安装依赖库"><a href="#使用vcpkg安装依赖库" class="headerlink" title="使用vcpkg安装依赖库"></a>使用vcpkg安装依赖库</h3><p>.\vcpkg.exe install –triplet x64-windows-static berkeleydb boost-filesystem boost-multi-index boost-signals2 boost-test boost-thread libevent[thread] zeromq double-conversion<br>.\vcpkg.exe integrate install</p>
<p>可能碰到的问题及解决方法：<br>1，下载速度慢/下载失败<br>    使用代理下载，<br>    或者先下载后安装</p>
<p>2，Warning: The following VS instances are excluded because the English language pack is unavailable.<br>    安装VS English语言包</p>
<p>3，Error: Building package boost-compatibility:x64-windows-static failed with: BUILD_FAILED<br>    – Downloading <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/boostorg/boost/boost-1.74.0/LICENSE_1_0.txt">https://raw.githubusercontent.com/boostorg/boost/boost-1.74.0/LICENSE_1_0.txt</a> -&gt; boost_LICENSE_1_0.txt…<br>    – Downloading <a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/boostorg/boost/boost-1.74.0/LICENSE_1_0.txt">https://raw.githubusercontent.com/boostorg/boost/boost-1.74.0/LICENSE_1_0.txt</a>… Failed. Status: 35;”SSL connect error”</p>
<pre><code>手动下载链接的文件并重命名为boost_LICENSE_1_0.txt，放到./downloads目录下。
其他类似的错误同样处理。
</code></pre>
<h2 id="生成"><a href="#生成" class="headerlink" title="生成"></a>生成</h2><p>py -3 build_msvc\msvc-autogen.py</p>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>msbuild /m build_msvc\bitcoin.sln /p:Platform=x64 /p:Configuration=Release /t:build<br>或者<br>用vs2019打开build_msvc\bitcoin.sln，选择x64，生成解决方案</p>
<p>可能碰到的问题及解决方法：<br>1，’msbuild’ 不是内部或外部命令，也不是可运行的程序<br>    将msbuld的路径【C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Current\Bin】<br>    加入到环境变量path中</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/07/VS2019%E7%BC%96%E8%AF%91%E6%AF%94%E7%89%B9%E5%B8%81%E6%BA%90%E7%A0%81(%20Bitcoin%20Core%20build%20by%20Virtual%20Studio%202019)/" data-id="ckvv0bqvd000b4oqvcjon7l1u" data-title="VS2019编译比特币源码( Bitcoin Core build by Virtual Studio 2019)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81-bitcoin-core-vs2019/" rel="tag">比特币 | bitcoin core | vs2019</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-电脑远程开机" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/06/%E7%94%B5%E8%84%91%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA/" class="article-date">
  <time class="dt-published" datetime="2021-03-06T03:30:23.389Z" itemprop="datePublished">2021-03-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iot/">iot</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/06/%E7%94%B5%E8%84%91%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA/">电脑远程开机</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>最近买了一个ESP01S继电器模块，装到电脑上，结合现有的树莓派实现电脑远程开机。</p>
<h2 id="通信流程"><a href="#通信流程" class="headerlink" title="通信流程"></a>通信流程</h2><p>手机-&gt;树莓派-&gt;路由器-&gt;ESP01S+继电器<br>今天主要介绍ESP01S+继电器的部分<br>ESP01S连接到路由器，在路由器上设置其IP为固定IP，<br>树莓派访问ESP01S的web服务，<br>当ESP01S接收到时，设定继电器开关。</p>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ul>
<li>ESP01S程序烧录</li>
<li>连接电脑</li>
</ul>
<h2 id="ESP01S程序烧录"><a href="#ESP01S程序烧录" class="headerlink" title="ESP01S程序烧录"></a>ESP01S程序烧录</h2><ol>
<li><p>固件下载：<a target="_blank" rel="noopener" href="https://github.com/IOT-MCU/ESP-01S-Relay-v4.0">https://github.com/IOT-MCU/ESP-01S-Relay-v4.0</a></p>
</li>
<li><p>ESP01S连接下载器<br>ESP01S模块<br><img src="https://www.wushifei.com/upload/2021/03/20210306-1-3-45f400c961094198b86673ed4b14b4fd.jpg" alt="2021030613.jpg"><br>下载器，直接插上就可以<br><img src="https://www.wushifei.com/upload/2021/03/20210306-1-2-b9e4ca6bb944452babb626e4439ea316.jpg" alt="2021030612.jpg"><br>连接到电脑上之后如果识别不到串口，可以下载<a target="_blank" rel="noopener" href="https://docs.ai-thinker.com/_media/tools/serial_driver_windos.7z">这个驱动</a></p>
</li>
<li><p>NodeMCU烧录<br> 3.1 打开flash_download_tools_v3.6.4<br>选择ESP8266 Download Toll<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-ecac0013b8d846059ed37e7116a48495.png" alt="图片.png"></p>
<p> 3.2 设置参数<br>bin文件选择firmware/nodemcu_integer_0.9.6-dev_20150704.bin<br>COM选择电脑上对应的端口<br>其他按下图设置<br>PS：BUAD设置过高可能会出现下载失败<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-8051d05a878745ac93073ffa19e2ec3a.png" alt="图片.png"></p>
<p> 3.3 点击ERASE<br> 3.4 再bin文件前打勾✔，点击START</p>
</li>
<li><p>lua程序上传<br> 4.1 打开LuaLoader<br> 4.2 设置端口参数,Port选择对应的端口，其他按下图设置<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-4607da96a69048a6b255ded58f576927.png" alt="图片.png"><br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-d39c6c9b4c5d415f9fd79928cba28e7f.png" alt="图片.png"><br> 4.3 菜单栏右边Connect，右上区域会变绿<br> 4.4 上传文件，选择light control v4.0/init.lua<br>PS：先用这个原始程序试一下，之后会修改这个lua程序<br> 4.5 发送<br> 4.6 点击 dofile<br>当出现MAC和IP信息时表示程序运行成功，记下MAC地址，修改静态IP的时候会用到。<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-1bb6625d5707400da9da4284bedc4cee.png" alt="图片.png"></p>
</li>
<li><p>修改lua程序之后，再次执行4<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-0c96e12ccd424ca58f1a826ca8af54c7.png" alt="图片.png"></p>
</li>
<li><p>将ESP01S模块从下载器上拔下来，查到继电器上，并给继电器的接通5V电源<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-da9e7dbfd86e41f4b955113b42a19ff5.png" alt="图片.png"></p>
</li>
<li><p>修改为静态IP<br>上电后登录路由器，根据ESP01S的MAC地址找到设备，并修改为静态IP，例如192.168.1.20</p>
</li>
<li><p>继电器开关确认<br>在电脑的浏览器中输入下列网址，继电器开关打开，指示灯亮<br><a target="_blank" rel="noopener" href="http://192.168.1.20/?pin=ON1">http://192.168.1.20?pin=ON1</a><br>在电脑的浏览器中输入下列网址，继电器开关关闭，指示灯灭</p>
</li>
</ol>
<h2 id="连接电脑"><a href="#连接电脑" class="headerlink" title="连接电脑"></a>连接电脑</h2><ol>
<li>继电器5V电源连接<br>B460M-PLUS主板的<br>5v电源在这个位置，接到继电器的VCC和GND<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-f519daa1bcdc45aa8156c78a0d0ca674.png" alt="图片.png"></li>
<li>继电器输出连接<br>B460M-PLUS主板的<br>开机接口在这个位置，接到继电器的COM和NO<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-22b17497f4d0473eb056e1230b945aba.png" alt="图片.png"><br>为了使机箱的开关和继电器开关共存，把手头的杜邦线改成了1通2的形式<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-03da152756104e7496e356e8a247b604.png" alt="图片.png"><br>完成图，记得给继电器包上塑料，做好绝缘。<br><img src="https://www.wushifei.com/upload/2021/03/%E5%9B%BE%E7%89%87-ab06349f01a045579dd0d9b1dcd9e509.png" alt="图片.png"></li>
</ol>
<p>到这里就其实就已经可以控制了，不过只能在局域网通过浏览器进行。<br>为了在外网可以远程控制，需要家里网络的公网IP和将端口映射。<br>在这里就细说了。<br>我用的是公网IP+DDNS+树莓派执行sh命令实现的<br>sh命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl 192.168.1.20/?pin=ON1</span><br><span class="line">sleep 0.2s</span><br><span class="line">curl 192.168.1.20/?pin=OFF1</span><br></pre></td></tr></table></figure>

<p>如果有问题请留言。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/06/%E7%94%B5%E8%84%91%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA/" data-id="ckvv0bqvy001z4oqv1yeq003v" data-title="电脑远程开机" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%94%B5%E8%84%91%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA-esp01s-esp8266/" rel="tag">电脑远程开机 | esp01s | esp8266</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-博客搭建" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/05/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" class="article-date">
  <time class="dt-published" datetime="2021-03-04T23:50:33.046Z" itemprop="datePublished">2021-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/web/">web</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/05/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>记录本章搭建过程：<br>需要对linux的基础操作有了解，如果不了解或者碰到问题请在下面评论。</p>
<h2 id="准备："><a href="#准备：" class="headerlink" title="准备："></a>准备：</h2><ul>
<li>VPS或虚拟主机</li>
<li>域名</li>
</ul>
<h2 id="服务器搭建"><a href="#服务器搭建" class="headerlink" title="服务器搭建"></a>服务器搭建</h2><p>本站使用的是<a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8085791">Vultr</a>的VPS，在我用过的VPS中，Vultr是使用最简单交互最简单的了。</p>
<h3 id="Vultr-VSP申请"><a href="#Vultr-VSP申请" class="headerlink" title="Vultr VSP申请"></a>Vultr VSP申请</h3><p>如果使用其他厂商VPS或者虚拟主机可以跳过本章</p>
<ol>
<li><p>注册<br>打开  <a target="_blank" rel="noopener" href="https://www.vultr.com/?ref=8493215-6G">Vultr官网</a>，输入邮箱和密码，点击“Create Account” 。 ​</p>
</li>
<li><p>激活<br>充值10美元，可以用支付宝，信用卡等。</p>
</li>
<li><p>创建实例</p>
<ol>
<li><p>点击右上的加号<br><img src="https://www.wushifei.com/upload/2021/03/20210305-2-1-0511d9738b404d268f66faabe7e1ffca.png" alt="2021030521.png"></p>
</li>
<li><p>选择服务器<br>选择离中国比较近的访问速度会快一点<br><img src="https://www.wushifei.com/upload/2021/03/20210305-2-2-32cfbde65b2f40dc96cf467a5a35830b.png" alt="2021030522.png"></p>
</li>
<li><p>选择OS，和配置，点击 Deploy Now<br>个人比较习惯用Ubuntu，配置根据需要，访问量不大的话1G内存够用<br><img src="https://www.wushifei.com/upload/2021/03/20210305-2-3-fa7b205070584a5b8cf70355f76d1b85.png" alt="2021030523.png"></p>
</li>
</ol>
</li>
<li><p>大约3分钟左右创建完成后可以看见IP，用户名，密码，用这些信息登录VPS</p>
</li>
</ol>
<h3 id="博客系统安装"><a href="#博客系统安装" class="headerlink" title="博客系统安装"></a>博客系统安装</h3><p>比较了一些博客系统最终选择了halo，很轻便。<br>注意，从 1.4.3 起，java版本要求为 11 以上的版本。1.4.3 以下需要 java 1.8 以上的版本。<br>安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://github.com/halo-dev/halo/releases/download/v1.4.5/halo-1.4.5.jar --output halo.jar</span><br><span class="line"></span><br><span class="line">java -jar halo.jar</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>更多请参考<a target="_blank" rel="noopener" href="https://halo.run/">官网</a></p>
<h2 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h2><p>我是在Godaddy购买的域名，其他厂商操作类似。<br>购买完成后再域名的DNS管理处修改A类解析到VPS的公网IP</p>
<p><img src="https://www.wushifei.com/upload/2021/03/20210305-2-4-7d05bf8ec74f4c409d529cbe1100da8d.png" alt="2021030524.png"></p>
<h3 id="代理"><a href="#代理" class="headerlink" title="代理"></a>代理</h3><p>由于halo的默认端口是8090，而且我的VPS上运行了别的服务占用了443，<br>所以修改了/etc/nginx/conf.d/<a target="_blank" rel="noopener" href="http://www.wushifei.com.conf文件,/">www.wushifei.com.conf文件，</a><br>使访问<a target="_blank" rel="noopener" href="http://www.wushifei.com时,会链接到8090端口./">www.wushifei.com时，会链接到8090端口。</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/nginx/conf.d/www.wushifei.com.conf</span><br></pre></td></tr></table></figure>
<p>在location / 下追加proxy_pass</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       443 ssl http2;</span><br><span class="line">    listen       [::]:443 ssl http2;</span><br><span class="line">    server_name www.wushifei.com;</span><br><span class="line">    charset utf-8;</span><br><span class="line"></span><br><span class="line"># 追加这一句</span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://127.0.0.1:8090;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>重新加载使设置生效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure>

<p>根据域名商不同，过几分钟~几小时不等，就可以用域名访问了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/05/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" data-id="ckvv0bqvm000w4oqvcvpd9jdc" data-title="博客搭建" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2-vps-halo/" rel="tag">博客 | vps | halo</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Hello World" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/03/05/Hello%20World/" class="article-date">
  <time class="dt-published" datetime="2021-03-04T22:18:50.187Z" itemprop="datePublished">2021-03-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/03/05/Hello%20World/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><p>一直以来从很多博客主那里学到了很多东西，解决了很多问题。<br>今天开启了自己的博客，希望这个博客也能对你有所帮助。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://wushifei.com/2021/03/05/Hello%20World/" data-id="ckvv0bqv600024oqvebgsg1tp" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/iot/">iot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/knowhow/">knowhow</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB/">默认分类</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/VBA/" rel="tag">VBA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WSL-vscode/" rel="tag">WSL | vscode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dnf/" rel="tag">dnf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-scp/" rel="tag">linux | scp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/" rel="tag">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ppg-%E5%BF%83%E7%8E%87%E6%B5%8B%E9%87%8F/" rel="tag">ppg | 心率测量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/" rel="tag">svn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vps-%E5%9F%9F%E5%90%8D/" rel="tag">vps | 域名</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2-vps-halo/" rel="tag">博客 | vps | halo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-jellyfin-%E5%A4%9A%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8/" rel="tag">树莓派 | jellyfin | 多媒体服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-python/" rel="tag">树莓派 | python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-svn/" rel="tag">树莓派 | svn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-%E5%9F%9F%E5%90%8D-python/" rel="tag">树莓派 | 域名 | python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81-bitcoin-core-vs2019/" rel="tag">比特币 | bitcoin core | vs2019</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%B5%E8%84%91%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA-esp01s-esp8266/" rel="tag">电脑远程开机 | esp01s | esp8266</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BE%A4%E6%99%96/" rel="tag">群晖</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/VBA/" style="font-size: 10px;">VBA</a> <a href="/tags/WSL-vscode/" style="font-size: 10px;">WSL | vscode</a> <a href="/tags/dnf/" style="font-size: 10px;">dnf</a> <a href="/tags/linux-scp/" style="font-size: 10px;">linux | scp</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/ppg-%E5%BF%83%E7%8E%87%E6%B5%8B%E9%87%8F/" style="font-size: 10px;">ppg | 心率测量</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/vps-%E5%9F%9F%E5%90%8D/" style="font-size: 10px;">vps | 域名</a> <a href="/tags/web/" style="font-size: 20px;">web</a> <a href="/tags/%E5%8D%9A%E5%AE%A2-vps-halo/" style="font-size: 10px;">博客 | vps | halo</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-jellyfin-%E5%A4%9A%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 10px;">树莓派 | jellyfin | 多媒体服务器</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-python/" style="font-size: 10px;">树莓派 | python</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-svn/" style="font-size: 10px;">树莓派 | svn</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE-%E5%9F%9F%E5%90%8D-python/" style="font-size: 10px;">树莓派 | 域名 | python</a> <a href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81-bitcoin-core-vs2019/" style="font-size: 10px;">比特币 | bitcoin core | vs2019</a> <a href="/tags/%E7%94%B5%E8%84%91%E8%BF%9C%E7%A8%8B%E5%BC%80%E6%9C%BA-esp01s-esp8266/" style="font-size: 10px;">电脑远程开机 | esp01s | esp8266</a> <a href="/tags/%E7%BE%A4%E6%99%96/" style="font-size: 10px;">群晖</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/11/07/%E5%9C%A8%E5%90%8C%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91%E4%B8%8A%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AAgithub%E8%B4%A6%E5%8F%B7%E7%9A%84ssh%20key%E3%80%90ssh%20key%20already%20in%20use%20github%E3%80%91/">在同一台电脑上管理多个github账号的ssh key【ssh key already in use github】</a>
          </li>
        
          <li>
            <a href="/2021/11/07/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BBhalo%E2%86%92hexo/">博客迁移halo→hexo</a>
          </li>
        
          <li>
            <a href="/2021/10/06/%E9%85%8D%E7%BD%AE%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%E5%92%8CDDNS/">配置二级域名和DDNS</a>
          </li>
        
          <li>
            <a href="/2021/10/04/%E5%88%A9%E7%94%A8github%20pages%E6%89%98%E7%AE%A1%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99/">利用github pages托管静态网站</a>
          </li>
        
          <li>
            <a href="/2021/09/14/%E6%A0%87%E8%AE%B0%E9%80%89%E4%B8%AD%E5%8D%95%E5%85%83%E6%A0%BC%E4%B8%AD%E9%87%8D%E5%A4%8D%E9%A1%B9%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AAVBA%E4%BB%A3%E7%A0%81/">标记选中单元格中重复项的第一个VBA代码</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>